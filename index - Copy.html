<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tráº¯c nghiá»‡m tá»± táº¡o</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: 30px auto; }
    input, button, textarea { margin: 5px 0; padding: 6px; width: 100%; }
    .question-block { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
    .result { font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>

  <h2>ğŸ“ ThÃªm cÃ¢u há»i má»›i</h2>
  <div>
    <input type="text" id="newQuestion" placeholder="CÃ¢u há»i">
    <input type="text" id="opt1" placeholder="ÄÃ¡p Ã¡n A">
    <input type="text" id="opt2" placeholder="ÄÃ¡p Ã¡n B">
    <input type="text" id="opt3" placeholder="ÄÃ¡p Ã¡n C">
    <input type="text" id="opt4" placeholder="ÄÃ¡p Ã¡n D">
    <select id="correctAnswer">
      <option value="0">A</option>
      <option value="1">B</option>
      <option value="2">C</option>
      <option value="3">D</option>
    </select>
    <button onclick="addQuestion()">â• ThÃªm cÃ¢u há»i</button>
  </div>

  <h2>ğŸ§  LÃ m bÃ i tráº¯c nghiá»‡m</h2>
  <form id="quizForm"></form>
  <button onclick="submitQuiz()">ğŸ“ Ná»™p bÃ i</button>
  <div class="result" id="result"></div>

  <script>
    // Load cÃ¢u há»i tá»« LocalStorage
    let questions = JSON.parse(localStorage.getItem('questions')) || [];

    // ThÃªm cÃ¢u há»i má»›i
    function addQuestion() {
      const q = document.getElementById("newQuestion").value;
      const opts = [
        document.getElementById("opt1").value,
        document.getElementById("opt2").value,
        document.getElementById("opt3").value,
        document.getElementById("opt4").value,
      ];
      const ans = parseInt(document.getElementById("correctAnswer").value);

      if (q && opts.every(opt => opt !== "")) {
        questions.push({ question: q, options: opts, answer: ans });
        localStorage.setItem('questions', JSON.stringify(questions));
        alert("ÄÃ£ thÃªm cÃ¢u há»i!");
        renderQuiz();
      } else {
        alert("Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!");
      }

      // Clear form
      document.getElementById("newQuestion").value = "";
      opts.forEach((_, i) => document.getElementById("opt" + (i + 1)).value = "");
    }

    // Hiá»ƒn thá»‹ cÃ¢u há»i tráº¯c nghiá»‡m (random)
    function renderQuiz() {
      const quizForm = document.getElementById("quizForm");
      quizForm.innerHTML = "";

      // Random cÃ¢u há»i
      const shuffled = [...questions].sort(() => 0.5 - Math.random());

      shuffled.forEach((q, index) => {
        const div = document.createElement("div");
        div.classList.add("question-block");
        div.innerHTML = `<p><strong>CÃ¢u ${index + 1}:</strong> ${q.question}</p>` +
          q.options.map((opt, i) =>
            `<label><input type="radio" name="q${index}" value="${i}"> ${opt}</label><br>`
          ).join('');
        quizForm.appendChild(div);
      });

      window.shuffledQuestions = shuffled; // LÆ°u Ä‘á»ƒ cháº¥m Ä‘iá»ƒm
    }

    // Ná»™p bÃ i & cháº¥m Ä‘iá»ƒm
    function submitQuiz() {
      let score = 0;
      const shuffled = window.shuffledQuestions || [];

      shuffled.forEach((q, index) => {
        const selected = document.querySelector(`input[name="q${index}"]:checked`);
        const questionBlock = document.querySelectorAll(".question-block")[index];

        // Kiá»ƒm tra Ä‘Ã¡p Ã¡n
        if (selected && parseInt(selected.value) === q.answer) {
          score++;
        }

        // Hiá»ƒn thá»‹ Ä‘Ã¡p Ã¡n Ä‘Ãºng
        const correctAnswerText = q.options[q.answer];
        const answerDisplay = document.createElement("p");
        answerDisplay.style.color = "green";
        answerDisplay.innerText = `âœ… ÄÃ¡p Ã¡n Ä‘Ãºng: ${correctAnswerText}`;
        questionBlock.appendChild(answerDisplay);
      });

      document.getElementById("result").innerText = `ğŸ‰ Báº¡n Ä‘Æ°á»£c ${score}/${shuffled.length} Ä‘iá»ƒm.`;
    }

    // Render láº§n Ä‘áº§u
    renderQuiz();
    
  </script>
</body>
</html>
# van0402
